{"ast":null,"code":"const handleStripePayment = async e => {\n  e.preventDefault();\n  setLoading(true);\n  try {\n    const response = await fetch(\"http://localhost:4000/v1/checkout/sessions\", {\n      method: \"POST\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify({\n        cartItems,\n        totalAmount\n      })\n    });\n    if (!response.ok) throw new Error(\"Failed to get session id\");\n    const data = await response.json();\n    const stripe = await stripePromise;\n    await (stripe === null || stripe === void 0 ? void 0 : stripe.redirectToCheckout({\n      sessionId: data.sessionId\n    }));\n  } catch (error) {\n    alert(\"Error: \" + error.message);\n  } finally {\n    setLoading(false);\n  }\n};","map":{"version":3,"names":["handleStripePayment","e","preventDefault","setLoading","response","fetch","method","headers","body","JSON","stringify","cartItems","totalAmount","ok","Error","data","json","stripe","stripePromise","redirectToCheckout","sessionId","error","alert","message"],"sources":["F:/my project/Vendor/client/src/pages/Checkout.jsx"],"sourcesContent":["const handleStripePayment = async (e) => {\r\n  e.preventDefault();\r\n  setLoading(true);\r\n\r\n  try {\r\n    const response = await fetch(\"http://localhost:4000/v1/checkout/sessions\", {\r\n      method: \"POST\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify({ cartItems, totalAmount }),\r\n    });\r\n\r\n    if (!response.ok) throw new Error(\"Failed to get session id\");\r\n\r\n    const data = await response.json();\r\n    const stripe = await stripePromise;\r\n    await stripe?.redirectToCheckout({ sessionId: data.sessionId });\r\n  } catch (error) {\r\n    alert(\"Error: \" + error.message);\r\n  } finally {\r\n    setLoading(false);\r\n  }\r\n};\r\n"],"mappings":"AAAA,MAAMA,mBAAmB,GAAG,MAAOC,CAAC,IAAK;EACvCA,CAAC,CAACC,cAAc,CAAC,CAAC;EAClBC,UAAU,CAAC,IAAI,CAAC;EAEhB,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMC,KAAK,CAAC,4CAA4C,EAAE;MACzEC,MAAM,EAAE,MAAM;MACdC,OAAO,EAAE;QAAE,cAAc,EAAE;MAAmB,CAAC;MAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;QAAEC,SAAS;QAAEC;MAAY,CAAC;IACjD,CAAC,CAAC;IAEF,IAAI,CAACR,QAAQ,CAACS,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,0BAA0B,CAAC;IAE7D,MAAMC,IAAI,GAAG,MAAMX,QAAQ,CAACY,IAAI,CAAC,CAAC;IAClC,MAAMC,MAAM,GAAG,MAAMC,aAAa;IAClC,OAAMD,MAAM,aAANA,MAAM,uBAANA,MAAM,CAAEE,kBAAkB,CAAC;MAAEC,SAAS,EAAEL,IAAI,CAACK;IAAU,CAAC,CAAC;EACjE,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,KAAK,CAAC,SAAS,GAAGD,KAAK,CAACE,OAAO,CAAC;EAClC,CAAC,SAAS;IACRpB,UAAU,CAAC,KAAK,CAAC;EACnB;AACF,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}